<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>All Products - Rhythm's Palette</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
    <link href="https://db.onlinewebfonts.com/c/f8deb3c1a029ec56b15bb462c1518f07?family=Snell+Roundhand+W01+Script"
        rel="stylesheet" />
    <link
        href="https://fonts.googleapis.com/css2?family=Ruda:wght@400;700&family=Playfair+Display:wght@400;700&display=swap"
        rel="stylesheet" />
    <link href="productStyle.css" rel="stylesheet">
    <link href="headerStyle.css" rel="stylesheet">
</head>

<body>
    <header>
    <div class="header-top">
      <div class="logo">
        <img src="logo.avif" alt="Rhythm's Palette Logo" />
      </div>
      <button class="menu-toggle" aria-label="Toggle menu">☰</button>
    
    <nav class="nav-links">
      <a href="#" class="active">Home</a>
      <a href="products.html">Products</a>
      <a href="#about">About</a>
      <a href="contact.html">Contact</a>
      <div id="cart-icon" onclick="toggleCart()">
            <i class="fas fa-shopping-cart"></i> (<span id="cart-count">0</span>)
        </div>
    </nav>
    </div>
  </header>
   <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>
    AOS.init();

    document.addEventListener("DOMContentLoaded", function () {
      const toggleBtn = document.querySelector(".menu-toggle");
      const navLinks = document.querySelector(".nav-links");

      toggleBtn.addEventListener("click", () => {
        navLinks.classList.toggle("show");
      });

      const images = document.querySelectorAll(".slideshow-box .slideshow-image");
      let index = 0;
      setInterval(() => {
        images[index].style.display = "none";
        index = (index + 1) % images.length;
        images[index].style.display = "block";
      }, 2000);
    });
  </script>


    <div class="container">
        <aside class="sidebar">
            <h3>Collections</h3>
            <ul>
                <li><a href="#" class="active-filter" onclick="filterCollection('all')">All Products</a></li>
                <li><a href="#" onclick="filterCollection('Zen')">Zen Collection</a></li>
                <li><a href="#" onclick="filterCollection('Animalia')">Animalia Collection</a></li>
                <li><a href="#" onclick="filterCollection('Bubbles')">Bubbles Collection</a></li>
                <li><a href="#" onclick="filterCollection('Lonelies')">Lonelies Collection</a></li>
            </ul>
            <h3>Price</h3>
            <label for="price-range">Max Price: $<span id="price-value">320</span></label>
            <input type="range" id="price-range" min="0" max="320" value="320" step="5"
                oninput="updatePriceFilter(this.value)" />
        </aside>
        <script>
            function updatePriceFilter(maxPrice) {
                document.getElementById('price-value').textContent = maxPrice;
                const allCards = document.querySelectorAll('.product-card');
                const activeCollection = document.querySelector('.sidebar a.active-filter')?.textContent;
                const collection = activeCollection?.includes('All') ? 'all' : activeCollection?.replace(' Collection', '');

                allCards.forEach(card => {
                    const price = parseFloat(card.dataset.price);
                    const matchCollection = collection === 'all' || card.dataset.collection === collection;
                    const matchPrice = price <= parseFloat(maxPrice);
                    card.style.display = matchCollection && matchPrice ? 'block' : 'none';
                });
            }

        </script>

        <section class="products-area">
            <div class="products-header">
                <h2>All Products</h2>
                <div class="sort">
                    <label for="sort-select">Sort by:</label>
                    <select id="sort-select" onchange="sortProducts()">
                        <option value="low">Price: Low to High</option>
                        <option value="high">Price: High to Low</option>
                    </select>
                </div>
            </div>

            <div class="product-grid" id="product-grid">

                <script>
                    window.addEventListener('DOMContentLoaded', () => {
                        document.querySelectorAll('.product-card').forEach(card => {
                            const images = card.querySelectorAll('.product-image');
                            if (images.length < 2) return; // skip if no image rotation needed
                            let index = 0;
                            let interval;

                            card.addEventListener('mouseenter', () => {
                                interval = setInterval(() => {
                                    images.forEach(img => img.classList.remove('active'));
                                    index = (index + 1) % images.length;
                                    images[index].classList.add('active');
                                }, 1000);
                            });

                            card.addEventListener('mouseleave', () => {
                                clearInterval(interval);
                                images.forEach(img => img.classList.remove('active'));
                                images[0].classList.add('active');
                                index = 0;
                            });
                        });
                    });

                </script>
                <div class="product-card" data-collection="Zen" data-price="320.0"
                    onclick="showProductDetails(`Adam's Eve`, 320.0, 'adams-eve.avif', `<p>This intricate black-and-white ink illustration is a celebration of organic patterns and textures inspired by the natural world. Each sphere and shape intertwines, representing a harmonious blend of microscopic life, oceanic forms, and cosmic energy. The fine details, from delicate floral motifs to flowing, wave-like patterns, create a mesmerizing depth, inviting viewers to lose themselves in the rhythm of nature’s complexity. Framed in a light wooden border, this piece is perfect for bringing a sense of tranquility and artistic sophistication to any space.</p>`, '1')">
                    <div class="product-image-wrapper">
                        <img src="adams-eve-1.avif" class="product-image active" alt="..." />
                        <img src="adams-eve-2.jpg" class="product-image" alt="..." />
                        <img src="adams-eve-3.jpg" class="product-image" alt="..." />
                    </div>
                    <div class="product-title">Adam's Eve</div>
                    <div class="product-price">$320</div>
                </div>

                <div class="product-card" data-collection="Zen" data-price="155.0"
                    onclick="showProductDetails('Blooming Whale', 155.0, 'blooming-whale.avif', `<p>Discover the dynamic beauty of nature with 'Ascending Canopy,' a captivating black and white sketch portraying trees stretching from their roots to the sky. Each stroke masterfully captures the intricate details of the forest, from the gnarled roots anchoring deep into the earth to the delicate foliage swaying in the breeze. The stark contrast of black and white emphasizes the majestic verticality of the trees, creating a compelling visual impact. With its minimalist yet evocative style, 'Ascending Canopy' invites you to immerse yourself in the serene atmosphere of the forest and contemplate the timeless beauty of nature's growth. Perfect for adding a touch of organic charm to any space, this artwork celebrates the enduring allure of the natural world</p>`, '2')">
                    <div class="product-image-wrapper">
                        <img src="blooming-whale-1.png" class="product-image active" alt="..." />
                        <img src="blooming-whale-2.jpg" class="product-image" alt="..." />
                        <img src="blooming-whale-3.jpg" class="product-image" alt="..." />
                    </div>
                    <div class="product-title">Blooming Whale</div>
                    <div class="product-price">$155</div>
                </div>

                <div class="product-card" data-collection="Lonelies" data-price="145.0"
                    onclick="showProductDetails('Abstraction Hypnosis', 145.0, 'abstraction-hypnosis.avif', `<p>Welcome to 'Abstraction Hypnosis,' an immersive journey into the depths of the subconscious mind through the mesmerizing interplay of black and white abstraction. In this enigmatic artwork, swirling patterns and dynamic shapes converge and diverge, evoking a sense of trance-like fascination and introspection. Against a backdrop of stark contrast, the intricate dance of light and shadow hypnotizes the viewer, drawing them deeper into a realm of endless possibility and interpretation. 'Abstraction Hypnosis' invites contemplation of the unknown and exploration of the boundless realms of imagination. Whether displayed as a thought-provoking centerpiece in a contemporary gallery or as a catalyst for creative inspiration in your personal space, this artwork promises to captivate the mind and stir the soul with its mesmerizing allure.</p>`, '3')">
                    <div class="product-image-wrapper">
                        <img src="abstraction-hypnosis-1.png" class="product-image active" alt="..." />
                        <img src="abstraction-hypnosis-2.jpg" class="product-image" alt="..." />
                        <img src="abstraction-hypnosis-3.avif" class="product-image" alt="..." />
                    </div>
                    <div class="product-title">Abstraction Hypnosis</div>
                    <div class="product-price">$145</div>
                </div>

                <div class="product-card" data-collection="Zen" data-price="155.0"
                    onclick="showProductDetails('Ascending Canopy', 155.0, 'ascending-canopy.avif', `<p>Discover the dynamic beauty of nature with 'Ascending Canopy,' a captivating black and white sketch portraying trees stretching from their roots to the sky. Each stroke masterfully captures the intricate details of the forest, from the gnarled roots anchoring deep into the earth to the delicate foliage swaying in the breeze. The stark contrast of black and white emphasizes the majestic verticality of the trees, creating a compelling visual impact. With its minimalist yet evocative style, 'Ascending Canopy' invites you to immerse yourself in the serene atmosphere of the forest and contemplate the timeless beauty of nature's growth. Perfect for adding a touch of organic charm to any space, this artwork celebrates the enduring allure of the natural world</p>`, '4')">
                    <div class="product-image-wrapper">
                        <img src="ascending-canopy-1.png" class="product-image active" alt="..." />
                        <img src="ascending-canopy-2.avif" class="product-image" alt="..." />
                        <img src="ascending-canopy-3.jpg" class="product-image" alt="..." />
                    </div>
                    <div class="product-title">Ascending Canopy</div>
                    <div class="product-price">$155</div>
                </div>

                <div class="product-card" data-collection="Zen" data-price="220.0"
                    onclick="showProductDetails('Look Up', 220.0, 'look-up.avif', `<p>Discover the dynamic beauty of nature with 'Ascending Canopy,' a captivating black and white sketch portraying trees stretching from their roots to the sky. Each stroke masterfully captures the intricate details of the forest, from the gnarled roots anchoring deep into the earth to the delicate foliage swaying in the breeze. The stark contrast of black and white emphasizes the majestic verticality of the trees, creating a compelling visual impact. With its minimalist yet evocative style, 'Ascending Canopy' invites you to immerse yourself in the serene atmosphere of the forest and contemplate the timeless beauty of nature's growth. Perfect for adding a touch of organic charm to any space, this artwork celebrates the enduring allure of the natural world</p>`, '5')">
                    <div class="product-image-wrapper">
                        <img src="look-up-1.png" class="product-image active" alt="..." />
                        <img src="look-up-2.jpg" class="product-image" alt="..." />
                        <img src="look-up-3.jpg" class="product-image" alt="..." />
                    </div>
                    <div class="product-title">Look Up</div>
                    <div class="product-price">$220</div>
                </div>

                <div class="product-card" data-collection="Lonelies" data-price="165.0"
                    onclick="showProductDetails('Eternal Tides', 165.0, 'eternal-tides.avif', `<p>Embark on a journey through the mesmerizing rhythm of the sea with 'Eternal Tides,' a captivating depiction of waves crashing against the shore in a timeless dance of ebb and flow. In this evocative artwork, the relentless motion of the waves is captured with stunning detail, evoking a sense of awe and wonder at the power and majesty of the ocean. Against a backdrop of serene simplicity, each crest and trough is rendered with precision, inviting viewers to lose themselves in the endless expanse of the sea. 'Eternal Tides' serves as a poignant reminder of the cyclical nature of life and the eternal rhythm of the natural world. Whether displayed as a symbol of strength and resilience in a contemplative space or as a source of inspiration in a coastal retreat, this artwork promises to captivate hearts and stir the soul with its timeless beauty and boundless energy.</p><p>&nbsp;</p>`, '6')">
                    <div class="product-image-wrapper">
                        <img src="eternal-tides-1.avif" class="product-image active" alt="..." />
                        <img src="eternal-tides-2.jpg" class="product-image" alt="..." />
                        <img src="eternal-tides-3.png" class="product-image" alt="..." />
                    </div>
                    <div class="product-title">Eternal Tides</div>
                    <div class="product-price">$165</div>
                </div>

                <div class="product-card" data-collection="Animalia" data-price="195.0"
                    onclick="showProductDetails('Shell Mono', 195.0, 'shell-mono.avif', `<p>Dive into the serene world of this black and white turtle sketch. This minimalist yet captivating artwork captures the essence of the ocean's gentle wanderer. With clean lines and subtle shading, the sketch brings out the unique features of the turtle's shell and flippers. Perfect for adding a touch of aquatic charm to any space, this piece invites you to explore the tranquility of underwater life in a beautifully understated way.</p>`, '7')">
                    <div class="product-image-wrapper">
                        <img src="shell-mono-1.png" class="product-image active" alt="..." />
                        <img src="shell-mono-2.jpg" class="product-image" alt="..." />
                        <img src="shell-mono-3.avif" class="product-image" alt="..." />
                    </div>
                    <div class="product-title">Shell Mono</div>
                    <div class="product-price">$195</div>
                </div>

                <div class="product-card" data-collection="Lonelies" data-price="95.0"
                    onclick="showProductDetails('Mini Garden', 95.0, 'mini-garden.avif', `<p>A charming depiction of a mini garden teeming with lush greenery and vibrant blooms. In this delightful artwork, a variety of plants flourish in harmony, creating a verdant oasis of natural beauty and serenity. Against a backdrop of serene simplicity, each plant is meticulously rendered with intricate detail, inviting viewers to immerse themselves in the enchanting world of botanical wonder. 'Botanical Haven' evokes a sense of peace and tranquility, offering a moment of respite from the hustle and bustle of everyday life. Whether displayed as a source of inspiration in a creative space or as a reminder of the beauty of nature in a tranquil retreat, this artwork serves as a celebration of the timeless allure of the botanical world.</p>`, '8')">
                    <div class="product-image-wrapper">
                        <img src="mini-garden-1.png" class="product-image active" alt="..." />
                        <img src="mini-garden-2.jpg" class="product-image" alt="..." />
                        <img src="mini-garden-3.avif" class="product-image" alt="..." />
                    </div>
                    <div class="product-title">Mini Garden</div>
                    <div class="product-price">$95</div>
                </div>

                <div class="product-card" data-collection="Zen" data-price="125.0"
                    onclick="showProductDetails('Grove', 125.0, 'grove.avif', `<p>Step into the tranquility of 'Grove,' a captivating black and white sketch that transports you to a serene forest setting. In this minimalist artwork, a solitary tree stands tall amidst a tranquil grove, its branches reaching skyward with timeless grace and elegance. Against a backdrop of stark contrast, the intricate details of the tree's form are brought to life, inviting viewers to immerse themselves in the beauty of nature's simplicity. 'Grove' evokes a sense of peace and reverence for the natural world, offering a moment of respite from the hustle and bustle of everyday life. Whether displayed as a focal point in a cozy living space or as a symbol of serenity in a tranquil retreat, this artwork serves as a reminder of the enduring beauty and quiet strength found in the heart of the forest.</p>`, '9')">
                    <div class="product-image-wrapper">
                        <img src="grove-1.png" class="product-image active" alt="..." />
                        <img src="grove-2.jpg" class="product-image" alt="..." />
                        <img src="grove-3.avif" class="product-image" alt="..." />
                    </div>
                    <div class="product-title">Grove</div>
                    <div class="product-price">$125</div>
                </div>
                <div class="product-card" data-collection="Animalia" data-price="105.0"
                    onclick="showProductDetails('Shy Pink', 105.0, 'shy-pink.avif', `<p>Introducing 'Shy Pink,' a captivating black and white portrayal of a flamingo emanating with subtle grace and charm. Against a backdrop of monochrome simplicity, the delicate silhouette of the flamingo emerges, evoking a sense of quiet elegance and mystery. Despite the absence of color, the essence of the flamingo's soft hues is palpable, hinting at the delicate pink tones that define its beauty. 'Shy Pink' invites viewers to contemplate the inherent grace and poise of this iconic bird, offering a moment of serenity and introspection. Whether displayed in a minimalist gallery or as a statement piece in your living space, this artwork promises to captivate hearts and inspire a sense of wonder for the natural world.</p>`, '10')">
                    <div class="product-image-wrapper">
                        <img src="shy-pink-1.png" class="product-image active" alt="..." />
                        <img src="shy-pink-2.jpg" class="product-image" alt="..." />
                        <img src="shy-pink-3.avif" class="product-image" alt="..." />
                    </div>
                    <div class="product-title">Shy Pink</div>
                    <div class="product-price">$105</div>
                </div>

                <div class="product-card" data-collection="Lonelies" data-price="235.0"
                    onclick="showProductDetails('Cracks in Celeste', 235.0, 'cracks-in-celeste.avif', `<p>Introducing 'Cracks in Celeste,' a captivating black and white artwork that invites viewers on a cosmic journey through the cracks of space. In this mesmerizing portrayal, the stark contrast of black and white creates an otherworldly atmosphere, as if space itself is cracking through the paper's surface. Each fracture reveals glimpses of the celestial expanse beyond, drawing the viewer into a hypnotic exploration of the unknown. 'Cracks in Celeste' invites contemplation of the vastness and mystery of the cosmos, offering a visual metaphor for the boundless possibilities that lie beyond the confines of our perception. Whether displayed as a cosmic centerpiece in a contemporary gallery or as a source of inspiration in your personal space, this artwork promises to ignite the imagination and spark curiosity about the wonders of the universe.</p>`, '11')">
                    <div class="product-image-wrapper">
                        <img src="cracks-in-celeste-1.png" class="product-image active" alt="..." />
                        <img src="cracks-in-celeste-2.jpg" class="product-image" alt="..." />
                        <img src="cracks-in-celeste-3.avif" class="product-image" alt="..." />
                    </div>
                    <div class="product-title">Cracks in Celeste</div>
                    <div class="product-price">$235</div>
                </div>
                <div class="product-card" data-collection="Lonelies" data-price="85.0"
                    onclick="showProductDetails('TwoFaced', 85.0, 'twofaced.avif', `<p>Introducing 'Twofaced,' a thought-provoking black and white sketch that offers a unique perspective on the world. In this simple yet captivating artwork, a circular depiction of an upside-down world unfolds, inviting viewers to ponder the duality of existence. The stark contrast between light and shadow creates a striking visual effect, emphasizing the dichotomy between opposing forces. As the viewer gazes upon the inverted landscape, they are prompted to contemplate the complexities of perception and the interconnectedness of opposites. 'Twofaced' serves as a powerful reminder of the multifaceted nature of reality, challenging us to embrace the paradoxes that shape our understanding of the world. Whether displayed as a symbol of introspection in a meditative space or as a conversation starter in a modern gallery, this artwork sparks curiosity and invites contemplation of the mysteries that lie beneath the surface.</p>`, '12')">
                    <div class="product-image-wrapper">
                        <img src="twofaced-1.png" class="product-image active" alt="..." />
                        <img src="twofaced-2.jpg" class="product-image" alt="..." />
                        <img src="twofaced-3.png" class="product-image" alt="..." />
                    </div>
                    <div class="product-title">TwoFaced</div>
                    <div class="product-price">$85</div>
                </div>

                <div class="product-card" data-collection="Lonelies" data-price="115.0"
                    onclick="showProductDetails('The Pineapple', 115.0, 'the-pineapple.avif', `<p>Against a backdrop of minimalist elegance, abstract patterns and shapes dance across the pineapple's surface, creating a sense of playful intrigue and whimsy. Each stroke of the artist's hand invites viewers to explore the fusion of tropical charm and artistic expression, evoking a sense of joy and wonder. 'Tropical Reverie' celebrates the beauty of nature's bounty and the boundless creativity of the human spirit. Whether displayed as a focal point in a contemporary kitchen or as a conversation starter in a modern gallery, this artwork promises to bring a touch of tropical allure and artistic inspiration to any space</p>`, '13')">
                    <div class="product-image-wrapper">
                        <img src="the-pineapple-1.png" class="product-image active" alt="..." />
                        <img src="the-pineapple-2.jpg" class="product-image" alt="..." />
                        <img src="the-pineapple-3.avif" class="product-image" alt="..." />
                    </div>
                    <div class="product-title">The Pineapple</div>
                    <div class="product-price">$115</div>
                </div>

                <div class="product-card" data-collection="Lonelies" data-price="105.0"
                    onclick="showProductDetails(`Creator's Touch`, 105.0, 'creators-touch.avif', `<p>Experience the 'Creator's Touch,' a poignant portrayal of a black and white hand symbolizing the power of creation and transformation. In this evocative artwork, the hand emerges from the depths of darkness, its fingers reaching out to shape and mold the world with a sense of purpose and intention. Against a backdrop of stark contrast, the intricate details of the hand's contours and lines are brought to life, evoking a sense of timeless wisdom and infinite potential. 'Creator's Touch' serves as a reminder of the profound impact of human creativity and imagination, inspiring viewers to harness their inner power to bring forth new beginnings and possibilities. Whether displayed as a symbol of inspiration in a creative space or as a catalyst for introspection in a contemplative setting, this artwork invites contemplation of the universal forces that shape our existence.</p>`, '14')">
                    <div class="product-image-wrapper">
                        <img src="creators-touch-1.png" class="product-image active" alt="..." />
                        <img src="creators-touch-2.jpg" class="product-image" alt="..." />
                        <img src="creators-touch-3.avif" class="product-image" alt="..." />
                    </div>
                    <div class="product-title">Creator's Touch</div>
                    <div class="product-price">$105</div>
                </div>

                <div class="product-card" data-collection="Zen" data-price="105.0"
                    onclick="showProductDetails('The Castle In A Cloud', 105.0, 'the-castle-in-a-cloud.avif', `<p>Behold 'The Castle in a Cloud,' a mesmerizing depiction of a majestic dragon coiling protectively around a towering castle, shrouded in the ethereal mists of a distant realm. In this enchanting black and white artwork, the intricate details of the castle's architecture are brought to life, juxtaposed against the sinuous form of the dragon as it weaves through the clouds with an air of both strength and serenity. Each stroke of the artist's hand invites viewers into a world of fantasy and wonder, where ancient legends and mythical creatures roam freely amidst the heavens. 'The Castle in a Cloud' beckons to those with an adventurous spirit, offering a glimpse into a realm where imagination knows no bounds. Whether displayed as a centerpiece in a medieval-themed gallery or cherished as a symbol of myth and magic in your personal collection, this artwork is sure to inspire dreams of far-off lands and daring adventures.</p>`, '15')">
                    <div class="product-image-wrapper">
                        <img src="the-castle-in-a-coud-1.png" class="product-image active" alt="..." />
                        <img src="the-castle-in-a-coud-2.jpg" class="product-image" alt="..." />
                        <img src="the-castle-in-a-coud-3.avif" class="product-image" alt="..." />
                    </div>
                    <div class="product-title">The Castle In A Cloud</div>
                    <div class="product-price">$105</div>
                </div>

            </div>
        </section>
        <footer>
            &copy; 2025 Rhythm Chauhan. Designed with vision and heart.
        </footer>

        <script>
            // Read ?collection= from the URL and filter automatically
            window.addEventListener('DOMContentLoaded', () => {
                const params = new URLSearchParams(window.location.search);
                const collection = params.get('collection');

                if (collection) {
                    filterCollection(collection);
                }
            });
        </script>

        <script>
            function filterCollection(collection) {
                const allCards = document.querySelectorAll('.product-card');
                document.querySelectorAll('.sidebar a').forEach(link => link.classList.remove('active-filter'));
                const target = [...document.querySelectorAll('.sidebar a')].find(a => a.textContent.includes(collection === 'all' ? 'All' : collection));
                if (target) target.classList.add('active-filter');

                allCards.forEach(card => {
                    if (collection === 'all' || card.dataset.collection === collection) {
                        card.style.display = 'block';
                    } else {
                        card.style.display = 'none';
                    }
                });
            }

            function sortProducts() {
                const grid = document.getElementById('product-grid');
                const cards = Array.from(grid.children);
                const sortValue = document.getElementById('sort-select').value;

                cards.sort((a, b) => {
                    const priceA = parseFloat(a.dataset.price);
                    const priceB = parseFloat(b.dataset.price);
                    return sortValue === 'low' ? priceA - priceB : priceB - priceA;
                });

                cards.forEach(card => grid.appendChild(card));
            }
        </script>
        <div id="cart-panel" class="modal" style="display:none;">
            <div class="modal-content-large" style="max-width: 900px;">
                <button id="modal-close" onclick="closeCart()">×</button>
                <div style="display: flex; gap: 2rem;">
                    <div style="flex: 1;">

                        <div style="flex: 1;">
                            <h2>Your Cart</h2>
                            <div id="cart-list-wrapper"
                                style="max-height: 450px; overflow-y: auto; padding-right: 0.5rem;">
                                <ul id="cart-list" style="list-style: none; padding: 0; margin: 0;"></ul>
                            </div>

                            <p id="cart-total" style="font-weight: bold; margin-top: 1rem;">Estimated Total: $0</p>
                        </div>

                    </div>
                    <form id="checkout-form" action="https://formspree.io/f/mjkokzkl" method="POST"
                        style="flex: 1; display: flex; flex-direction: column; gap: 1rem;">
                        <h3>Contact Info</h3>
                        <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                            <input type="hidden" name="cart_json" id="cart-json">
                            <label>Name</label>
                            <input type="text" name="name" required
                                style="padding: 0.5rem; border: 1px solid #ccc; border-radius: 4px;" />

                            <label>Email</label>
                            <input type="email" name="email" required
                                style="padding: 0.5rem; border: 1px solid #ccc; border-radius: 4px;" />

                            <label>Phone</label>
                            <input type="tel" name="phone" required
                                style="padding: 0.5rem; border: 1px solid #ccc; border-radius: 4px;" />

                            <label>Comments</label>
                            <textarea name="comments" rows="4"
                                style="padding: 0.5rem; border: 1px solid #ccc; border-radius: 4px;"></textarea>
                        </div>

                        <button type="submit" class="buy-button" style="margin-top: 1rem;">Request Purchase</button>
                        <div id="form-response"
                            style="display:none; margin-top:0.4rem; font-size:1.1rem; color: green;">
                            Thank you! Your message has been sent.
                        </div>

                    </form>

                </div>
            </div>
        </div>
        <script>
            const cart = [];

            function addToCart() {
                const title = document.getElementById("modal-title").textContent;
                const price = document.getElementById("modal-price").textContent;
                const sku = document.getElementById("modal-sku").textContent;
                const image = document.getElementById("modal-image").src;

                const existing = cart.find(item => item.title === title);

                if (!existing) {
                    cart.push({ title, price, sku, image });
                    updateCartDisplay();
                }

                updateAddToCartUI(title);
            }

            function removeFromModalCart() {
                const title = document.getElementById("modal-title").textContent;
                const index = cart.findIndex(item => item.title === title);

                if (index !== -1) {
                    cart.splice(index, 1);
                    updateCartDisplay();
                }

                document.getElementById("cart-action-wrapper").innerHTML = `
    <button id="cart-action-button" class="buy-button" onclick="addToCart()">Add to Cart</button>
  `;
            }

            function updateAddToCartUI(title) {
                const wrapper = document.getElementById("cart-action-wrapper");

                const inCart = cart.find(item => item.title === title);

                if (inCart) {
                    wrapper.innerHTML = `
      <div style="display: flex; align-items: center; gap: 0.75rem;">
        <button id="cart-action-button" class="buy-button">1</button>
        <button onclick="removeFromModalCart()" title="Remove from cart" style="background: none; border: none; cursor: pointer; font-size: 1.2rem; color: #555;">
          <i class="fas fa-trash"></i>
        </button>
      </div>
    `;
                } else {
                    wrapper.innerHTML = `
      <button id="cart-action-button" class="buy-button" onclick="addToCart()">Add to Cart</button>
    `;
                }
            }


            function updateCartDisplay() {
                document.getElementById("cart-count").textContent = cart.length;
                const cartList = document.getElementById("cart-list");
                const cartTotal = document.getElementById("cart-total");
                cartList.innerHTML = "";

                let total = 0;

                cart.forEach((item, index) => {
                    const itemPrice = parseFloat(item.price.replace('$', '')) || 0;
                    total += itemPrice;

                    const card = document.createElement("div");
                    card.style.display = "flex";
                    card.style.gap = "1rem";
                    card.style.alignItems = "center";
                    card.style.border = "1px solid #eee";
                    card.style.padding = "1rem";
                    card.style.borderRadius = "8px";

                    const img = document.createElement("img");
                    img.src = item.image;
                    img.alt = item.title;
                    img.style.width = "80px";
                    img.style.height = "80px";
                    img.style.objectFit = "cover";
                    img.style.borderRadius = "4px";

                    const info = document.createElement("div");
                    info.style.flex = "1";
                    info.innerHTML = `
            <strong>${item.title}</strong><br>
            ${item.price}<br>
            <span style="color:#777;">${item.sku}</span>
        `;

                    const removeBtn = document.createElement("button");
                    removeBtn.innerHTML = `<i class="fas fa-trash"></i>`;
                    removeBtn.onclick = () => removeFromCart(index);
                    removeBtn.style.background = "none";
                    removeBtn.style.border = "none";
                    removeBtn.style.cursor = "pointer";
                    removeBtn.style.fontSize = "1.1rem";
                    removeBtn.style.color = "#555";
                    removeBtn.title = "Remove";

                    card.appendChild(img);
                    card.appendChild(info);
                    card.appendChild(removeBtn);

                    cartList.appendChild(card);
                });

                cartTotal.textContent = `Estimated Total: $${total.toFixed(2)}`;
            }

            function removeFromCart(index) {
                cart.splice(index, 1);
                updateCartDisplay();
            }


            function toggleCart() {
                document.getElementById("cart-panel").style.display = "flex";
            }

            function closeCart() {
                document.getElementById("cart-panel").style.display = "none";
            }

            function submitCart(event) {
                event.preventDefault();

                const form = document.getElementById("checkout-form");

                // Inject cart JSON into hidden input
                document.getElementById("cart-json").value = JSON.stringify(cart);

                fetch(form.action, {
                    method: "POST",
                    body: new FormData(form),
                    headers: {
                        Accept: "application/json"
                    }
                })
                    .then(response => {
                        if (response.ok) {
                            alert("Your request has been sent!");
                            form.reset();
                            cart.length = 0;
                            updateCartDisplay();
                            closeCart();
                        } else {
                            alert("There was a problem submitting the form.");
                        }
                    })
                    .catch(error => {
                        alert("Error submitting the form.");
                        console.error(error);
                    });

                alert("Your purchase request has been submitted!");
                cart.length = 0;
                updateCartDisplay();
                form.reset();
                closeCart();
            }
        </script>
        <script>
            document.getElementById('checkout-form').addEventListener('submit', async function (event) {
                event.preventDefault();

                const form = event.target;
                const formData = new FormData(form);

                // Include cart JSON
                formData.set("cart_json", JSON.stringify(cart));

                try {
                    const response = await fetch("https://formspree.io/f/mjkokzkl", {
                        method: "POST",
                        headers: {
                            "Accept": "application/json"
                        },
                        body: formData
                    });

                    if (response.ok) {
                        // Hide form and show thank you message
                        document.getElementById("form-response").style.display = "block";
                        form.reset();
                        // Clear cart
                        cart.length = 0;
                        updateCartDisplay();
                    } else {
                        alert("Something went wrong. Please try again later.");
                    }
                } catch (error) {
                    console.error(error);
                    alert("An error occurred. Please try again.");
                }
            });
        </script>


        <div id="product-modal" class="modal">
            <div class="modal-content-large">
                <button id="modal-close" onclick="closeModal()">×</button>

                <div class="modal-grid">
                    <div class="modal-image">
                        <img id="modal-image" src="" alt="" />
                        <div id="modal-thumbnails" class="thumbnails"></div>
                    </div>
                    <div class="modal-details">
                        <h2 id="modal-title"></h2>
                        <p id="modal-price" class="modal-price"></p>
                        <p id="modal-sku" style="font-size: 0.95rem; color: #777; margin-top: -0.5rem;"></p>
                        <p id="modal-description" class="modal-description"></p>
                        <br>
                        <p style="font-size: 0.95rem; color: #555; line-height: 1.5;">
                            <strong>Note:</strong> A frame is included with your order. However, the frame shown in the
                            picture may differ from the one provided. We will confirm the final frame choice with you
                            during the purchase process.<br>
                            The scale in the image is not accurate — all sketches are A4 size (210mm × 297mm or 8.3in ×
                            11.7in).
                        </p>

                        <div id="cart-action-wrapper" style="margin-top: 1rem;">
                            <button id="cart-action-button" class="buy-button" onclick="addToCart()">Add to
                                Cart</button>
                        </div>


                    </div>
                </div>
            </div>
        </div>

        <script>
            function showProductDetails(title, price, imageSrc, description, sku) {
                const mainImage = document.getElementById('modal-image');
                const thumbnailsContainer = document.getElementById('modal-thumbnails');
                // Get images from the clicked product card
                const card = event.currentTarget;
                const productImages = card.querySelectorAll('.product-image');

                // Populate imageVariants from existing images
                const imageVariants = Array.from(productImages).map(img => img.src);


                // Set main image
                mainImage.src = imageVariants[0];
                mainImage.alt = title;

                // Populate thumbnails
                thumbnailsContainer.innerHTML = "";
                imageVariants.forEach((src, index) => {
                    const thumb = document.createElement("img");
                    thumb.src = src;
                    thumb.alt = title + " thumbnail";
                    if (index === 0) thumb.classList.add("active-thumb");

                    thumb.addEventListener("click", () => {
                        mainImage.src = src;
                        thumbnailsContainer.querySelectorAll("img").forEach(img => img.classList.remove("active-thumb"));
                        thumb.classList.add("active-thumb");
                    });

                    thumbnailsContainer.appendChild(thumb);
                });

                // Set modal text
                document.getElementById('modal-title').textContent = title;
                document.getElementById('modal-price').textContent = `$${price}`;
                document.getElementById('modal-sku').textContent = `SKU: SKU00${sku}`;
                document.getElementById('modal-description').innerHTML = description;

                document.getElementById('product-modal').style.display = 'flex';

                updateAddToCartUI(title);

            }
            // Check if already in cart and update button
            const wrapper = document.getElementById("cart-action-wrapper");
            const isInCart = cart.find(item => item.title === title);

            if (isInCart) {
                wrapper.innerHTML = `
        <div style="display: flex; align-items: center; gap: 0.75rem;">
            <div style="font-weight: bold;">1</div>
            <button onclick="removeFromModalCart()" title="Remove from cart" style="background: none; border: none; cursor: pointer; font-size: 1.2rem; color: #555;">
                <i class="fas fa-trash"></i>
            </button>
        </div>
    `;
            } else {
                wrapper.innerHTML = `
        <button id="cart-action-button" class="buy-button" onclick="addToCart()">Add to Cart</button>
    `;
            }


            function closeModal() {
                document.getElementById('product-modal').style.display = 'none';
            }
        </script>
</body>

</html>